.profile-wrapper {
  background-color: #0d1b2a;
  color: white;
  font-family: 'Arial', sans-serif;
  padding: 20px;
  padding-bottom: 100px;
  min-height: 100vh;
  box-sizing: border-box;
}

/* Убрали контейнер вокруг аватара и username, поэтому стилизуем их отдельно */
.avatar-placeholder {
  width: 80px;
  height: 80px;
  margin: 0 auto 12px;
  border-radius: 50%;
  background-color: #2e4a6d;
  color: #f0f0f0;
  font-size: 40px;
  font-weight: 700;
  line-height: 80px;
  user-select: none;
  text-align: center;
}

.profile-avatar {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  display: block;
  margin: 0 auto 12px;
  object-fit: cover;
}

.username-text {
  color: #fff;
  font-weight: 700;
  font-size: 24px;
  text-align: center;
  margin-bottom: 20px;
}

/* Центрируем кнопку TON Connect */
button.ton-connect-button,
.profile-block > div.ton-button-row {
  width: 100% !important;
  max-width: 300px;
  margin: 0 auto 20px;
  padding-top: 0;
}

/* Контейнер-обёртка для кнопки TON Connect */
.ton-connect-wrapper {
  display: flex !important;
  justify-content: center !important;
  width: 100%;
  max-width: 300px;
  margin: 0 auto 20px;
}

/* Объединили баланс и кнопки пополнения/вывода */
.balance-actions-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: #415a77;
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 20px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

/* Отображение баланса с иконкой TON */
.balance-display {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 24px;
  font-weight: 700;
  color: #e0e1dd;
}

.ton-icon {
  font-size: 28px;
}

/* Кнопки пополнения (⭐ и TON) */
.balance-buttons {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.balance-buttons .btn {
  border: none;
  border-radius: 30px;
  padding: 10px 16px;
  font-weight: 700;
  font-size: 14px;
  cursor: pointer;
  transition: transform .08s ease, box-shadow .2s ease, opacity .2s ease;
  outline: none;
}

/* визуальная обратная связь */
.balance-buttons .btn:active {
  transform: translateY(1px);
}

/* Stars (золотистая) */
.balance-buttons .btn-stars {
  background: linear-gradient(180deg, #ffd54f, #ffb300);
  color: #1b263b;
  box-shadow: 0 4px 10px rgba(255, 179, 0, 0.35);
}
.balance-buttons .btn-stars:hover {
  filter: brightness(1.03);
}

/* TON (зелёная как раньше) */
.balance-buttons .btn-ton {
  background-color: #2E7D32;
  color: #fff;
  box-shadow: 0 4px 10px rgba(46, 125, 50, 0.35);
}
.balance-buttons .btn-ton:hover {
  background-color: #27692a;
}

/* Секции рефералов, реферальной ссылки и истории покупок */
.profile-block {
  background-color: #415a77;
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 20px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.profile-title {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 10px;
}

.profile-row {
  margin-bottom: 6px;
}

.profile-ref-wrapper {
  display: flex;
  gap: 8px;
  align-items: center;
}

.profile-ref-link {
  flex: 1;
  padding: 8px;
  border-radius: 8px;
  border: none;
  background-color: #1b263b;
  color: white;
}

.copy-btn {
  padding: 6px 12px;
  background-color: #778da9;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  transition: background-color 0.3s ease;
}

.copy-btn:hover {
  background-color: #a9bcd0;
}

.profile-history-list {
  margin-top: 10px;
  list-style: none;
  padding: 0;
}

.profile-history-list li {
  padding: 10px;
  background-color: #1b263b;
  border-radius: 8px;
  margin-bottom: 10px;
  font-size: 14px;
}

.referral-flex-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.referral-button-wrapper {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.referral-withdraw-btn {
  background-color: #2E7D32;
  border: none;
  border-radius: 30px;
  padding: 6px 14px;
  color: white;
  font-weight: bold;
  cursor: pointer;
  font-size: 14px;
  transition: background-color 0.3s ease;
}

.referral-withdraw-btn:hover {
  background-color: #27692a;
}

/* мелкая адаптация для узких экранов */
@media (max-width: 380px) {
  .balance-actions-row {
    gap: 12px;
  }
  .balance-display {
    font-size: 22px;
  }
  .balance-buttons .btn {
    padding: 9px 14px;
  }
}

/* поверх существующих стилей — делаем фон профиля прозрачным и поднимаем над звёздами */
.profile-wrapper {
  background-color: transparent !important;
  position: relative;
  z-index: 1;
}

/* ===== Starfield (лёгкая CSS-анимация) ===== */
.starfield {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  /* мягкий космический градиент под звёздами для глубины */
  background: radial-gradient(ellipse at 50% 120%, #0d1b2a 0%, #000 65%);
  overflow: hidden;
}

/* два слоя звёзд через псевдо-элементы */
.starfield::before,
.starfield::after {
  content: '';
  position: absolute;
  inset: -1000px 0 0 0; /* сверху больше, чтобы было куда "плыть" */
  background-repeat: repeat;
  background-size: 2000px 2000px;
  animation: starScroll linear infinite;
  opacity: 0.9;
}

/* мелкие звёзды (слой 1) */
.starfield::before {
  /* имитация звёзд множеством точек разной яркости */
  background-image:
    radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,.9) 50%, transparent 51%),
    radial-gradient(1px 1px at 30% 80%, rgba(255,255,255,.7) 50%, transparent 51%),
    radial-gradient(1px 1px at 70% 30%, rgba(255,255,255,.8) 50%, transparent 51%),
    radial-gradient(1px 1px at 90% 60%, rgba(255,255,255,.6) 50%, transparent 51%),
    radial-gradient(1px 1px at 50% 50%, rgba(255,255,255,.75) 50%, transparent 51%),
    radial-gradient(1px 1px at 20% 70%, rgba(255,255,255,.65) 50%, transparent 51%),
    radial-gradient(1px 1px at 80% 15%, rgba(255,255,255,.85) 50%, transparent 51%),
    radial-gradient(1px 1px at 60% 90%, rgba(255,255,255,.7) 50%, transparent 51%);
  animation-duration: 120s;
  filter: drop-shadow(0 0 1px rgba(255,255,255,.3));
}

/* чуть крупнее и реже (слой 2) */
.starfield::after {
  background-image:
    radial-gradient(1.5px 1.5px at 15% 35%, rgba(255,255,255,.9) 50%, transparent 51%),
    radial-gradient(1.5px 1.5px at 40% 10%, rgba(255,255,255,.8) 50%, transparent 51%),
    radial-gradient(1.5px 1.5px at 75% 75%, rgba(255,255,255,.9) 50%, transparent 51%),
    radial-gradient(1.5px 1.5px at 88% 25%, rgba(255,255,255,1) 50%, transparent 51%),
    radial-gradient(1.5px 1.5px at 55% 65%, rgba(255,255,255,.85) 50%, transparent 51%);
  animation-duration: 180s;
  filter: drop-shadow(0 0 2px rgba(255,255,255,.35));
}

@keyframes starScroll {
  from { transform: translateY(0); }
  to   { transform: translateY(-1000px); }
}

/* уважение к системной настройке — отключаем анимацию при reduced motion */
@media (prefers-reduced-motion: reduce) {
  .starfield::before,
  .starfield::after {
    animation: none;
  }
}


/* ===== Улучшенное звёздное небо для мобильных ===== */
.profile-wrapper {
  background: transparent !important;
  position: relative;
  z-index: 1;
}

/* фон звёзд */
.starfield {
  position: fixed;
  inset: 0;
  width: 100%;
  min-height: 100vh;
  z-index: 0;
  pointer-events: none;
  background: radial-gradient(ellipse at 50% 120%, #0b1622 0%, #000 65%);
  overflow: hidden;
}

/* звёзды через box-shadow, но теперь с плотным распределением */
.starfield::before,
.starfield::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  animation: starDrift linear infinite;
  opacity: 0.85;
}

/* слой 1 — мелкие звёзды, много */
.starfield::before {
  box-shadow:
    40px 100px white, 120px 300px white, 200px 500px white,
    280px 700px white, 360px 900px white, 440px 200px white,
    520px 400px white, 600px 600px white, 680px 800px white,
    760px 1000px white, 40px 1200px white, 120px 1400px white,
    200px 1600px white, 280px 1800px white, 360px 2000px white,
    440px 2200px white, 520px 2400px white, 600px 2600px white,
    680px 2800px white, 760px 3000px white;
  animation-duration: 100s;
}

/* слой 2 — чуть крупнее, но реже */
.starfield::after {
  width: 3px;
  height: 3px;
  opacity: 0.9;
  box-shadow:
    60px 200px white, 180px 600px white, 300px 1000px white,
    420px 400px white, 540px 800px white, 660px 1200px white,
    780px 1600px white, 60px 2000px white, 180px 2400px white,
    300px 2800px white, 420px 3200px white, 540px 3600px white;
  animation-duration: 160s;
}

/* мягкое движение вверх */
@keyframes starDrift {
  from { transform: translateY(0); }
  to   { transform: translateY(-1000px); }
}

/* при отключённой анимации */
@media (prefers-reduced-motion: reduce) {
  .starfield::before,
  .starfield::after {
    animation: none;
  }
}
